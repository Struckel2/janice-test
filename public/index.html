a<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Janice - AI Marketing Assistant</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-wrapper">
        <!-- Painel de Processos Ativos -->
        <div id="active-processes-panel" class="active-processes-panel hidden">
            <div class="panel-header">
                <h3><i class="fas fa-tasks"></i> Processos Ativos</h3>
                <span class="process-count" id="process-count">0</span>
            </div>
            <div class="processes-list" id="processes-list">
                <!-- Processos dinâmicos serão inseridos aqui -->
            </div>
        </div>

        <!-- Painel principal -->
        <div class="container main-panel">
        <header>
            <img src="https://res.cloudinary.com/du9a3e1nj/image/upload/w_450,h_180,c_fit/janice-logo_hkr10i" 
                 alt="Janice - AI Marketing Assistant" 
                 class="main-logo">
        </header>

        <div class="welcome-container" id="welcome-container">
            <div class="welcome-content">
                <i class="fas fa-arrow-right"></i>
                <h2>Selecione um cliente</h2>
                <p>Escolha um cliente na lista ao lado para visualizar ou criar análises</p>
            </div>
        </div>

        <!-- Painel de detalhes do cliente no painel central -->
        <div class="client-details-panel" id="client-details-panel">
            <div class="client-details-header">
                <div class="client-logo" id="central-client-logo">
                    <i class="fas fa-building"></i>
                </div>
                <div class="client-info">
                    <h2 id="central-client-name">Nome da Empresa</h2>
                    <p>CNPJ: <span id="central-client-cnpj"></span></p>
                </div>
            </div>
            
            <div class="client-actions">
                <button id="edit-client-btn" class="action-button secondary">
                    <i class="fas fa-edit"></i> Editar
                </button>
                <button id="delete-client-btn" class="action-button danger">
                    <i class="fas fa-trash-alt"></i> Excluir
                </button>
            </div>
            
            <div class="client-tabs">
                <div class="tab-buttons">
                    <button class="tab-button active" data-tab="analysis">Análises</button>
                    <button class="tab-button" data-tab="transcriptions">Transcrições</button>
                    <button class="tab-button" data-tab="action-plans">
                        Planos de Ação
                    </button>
                    <button class="tab-button" data-tab="mockups">
                        <i class="fas fa-palette"></i> Mockups
                    </button>
                    <button class="tab-button" data-tab="gallery">
                        <i class="fas fa-images"></i> Galeria
                    </button>
                </div>
                
                <div class="tab-content active" id="analysis-tab">
                    <div class="client-analysis-history">
                        <div class="analysis-header">
                            <h3>Histórico de Análises</h3>
                            <button id="new-analysis-btn" class="action-button">
                                <i class="fas fa-plus"></i> Nova Análise
                            </button>
                        </div>
                        <div id="analysis-list">
                            <!-- Histórico de análises será carregado dinamicamente -->
                            <div class="analysis-list-empty">
                                <i class="fas fa-file-alt"></i>
                                <p>Nenhuma análise realizada</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="transcriptions-tab">
                    <div class="client-transcription-history">
                        <div class="transcription-header">
                            <h3>Histórico de Transcrições</h3>
                            <button id="new-transcription-btn" class="action-button">
                                <i class="fas fa-plus"></i> Nova Transcrição
                            </button>
                        </div>
                        <div id="transcription-list">
                            <!-- Histórico de transcrições será carregado dinamicamente -->
                            <div class="transcription-list-empty">
                                <i class="fas fa-microphone-slash"></i>
                                <p>Nenhuma transcrição realizada</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="action-plans-tab">
                    <div class="client-action-plans-history">
                        <h3>Planos de Ação</h3>
                        <div class="action-plans-header">
                            <button id="new-action-plan-btn" class="action-button">
                                <i class="fas fa-plus"></i> Novo Plano de Ação
                            </button>
                        </div>
                        <div id="action-plans-list">
                            <!-- Histórico de planos de ação será carregado dinamicamente -->
                            <div class="action-plans-list-empty">
                                <i class="fas fa-tasks"></i>
                                <p>Nenhum plano de ação criado</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="mockups-tab">
                    <div class="client-mockups-history">
                        <div class="mockups-header">
                            <h3>Mockups com IA</h3>
                            <button id="new-mockup-btn" class="action-button">
                                <i class="fas fa-palette"></i> Novo Mockup
                            </button>
                        </div>
                        <div id="mockups-list">
                            <!-- Histórico de mockups será carregado dinamicamente -->
                            <div class="mockups-list-empty">
                                <i class="fas fa-image"></i>
                                <p>Nenhum mockup criado</p>
                                <small>Crie mockups profissionais usando IA para logos, posts sociais, banners e muito mais</small>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="gallery-tab">
                    <div class="client-gallery">
                        <div class="gallery-header">
                            <div class="gallery-title-section">
                                <h3>Galeria de Imagens</h3>
                                <button id="refresh-gallery-btn" class="refresh-btn" title="Atualizar Galeria">
                                    <i class="fas fa-sync-alt"></i> Atualizar
                                </button>
                            </div>
                            <div class="gallery-filters">
                                <button class="filter-btn active" data-filter="all">
                                    <i class="fas fa-th"></i> Todos
                                </button>
                                <button class="filter-btn" data-filter="logo">
                                    <i class="fas fa-tag"></i> Logos
                                </button>
                                <button class="filter-btn" data-filter="post-social">
                                    <i class="fas fa-mobile-alt"></i> Posts
                                </button>
                                <button class="filter-btn" data-filter="banner">
                                    <i class="fas fa-rectangle-ad"></i> Banners
                                </button>
                            </div>
                        </div>
                        <div id="gallery-grid" class="gallery-grid">
                            <!-- Galeria será carregada dinamicamente -->
                            <div class="gallery-empty">
                                <i class="fas fa-images"></i>
                                <p>Nenhuma imagem salva</p>
                                <small>As imagens dos mockups que você salvar aparecerão aqui organizadas por tipo</small>
                            </div>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>

        <div class="loading-container" id="loading-container">
            <div class="loading-animation">
                <div class="spinner"></div>
            </div>
            <p class="loading-text">Analisando empresa e mercado...</p>
            <p class="loading-subtext" id="loading-status">Iniciando análise...</p>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-text" id="progress-text">0%</div>
            </div>
            
            <div class="progress-steps">
                <div class="progress-step" id="step-1">
                    <div class="step-indicator pending"></div>
                    <div class="step-text">Consulta CNPJ</div>
                </div>
                <div class="progress-step" id="step-2">
                    <div class="step-indicator pending"></div>
                    <div class="step-text">Análise da Empresa</div>
                </div>
                <div class="progress-step" id="step-3">
                    <div class="step-indicator pending"></div>
                    <div class="step-text">Análise de Mercado</div>
                </div>
                <div class="progress-step" id="step-4">
                    <div class="step-indicator pending"></div>
                    <div class="step-text">Geração de Relatório</div>
                </div>
            </div>
        </div>

        <!-- Contêiner para nova análise -->
        <div class="analysis-container" id="analysis-container">
            <div class="analysis-header">
                <h2>Nova Análise Empresarial</h2>
                <p>Análise completa da empresa e posicionamento de mercado</p>
                <div class="info-box">
                    <i class="fas fa-info-circle"></i>
                    <p>Nossa análise combina dados públicos da empresa com inteligência de mercado para gerar insights estratégicos personalizados. O processo leva aproximadamente 2-3 minutos.</p>
                </div>
            </div>
            
            <div class="analysis-preview">
                <h3>O que será analisado:</h3>
                <ul>
                    <li><i class="fas fa-building"></i> Dados cadastrais e situação da empresa</li>
                    <li><i class="fas fa-chart-line"></i> Análise de mercado e concorrência</li>
                    <li><i class="fas fa-target"></i> Oportunidades e recomendações estratégicas</li>
                    <li><i class="fas fa-file-pdf"></i> Relatório completo em PDF</li>
                </ul>
            </div>
            
            <div class="form-actions">
                <button type="button" id="cancel-analysis-btn" class="action-button secondary">Cancelar</button>
                <button type="button" id="start-analysis-btn" class="action-button">Iniciar Análise</button>
            </div>
        </div>

        <!-- Contêiner para criação de plano de ação -->
        <div class="action-plan-container" id="action-plan-container">
            <div class="action-plan-header">
                <h2>Novo Plano de Ação</h2>
                <p>Crie um plano estratégico baseado em transcrições e análises existentes</p>
                <div class="info-box">
                    <i class="fas fa-info-circle"></i>
                    <p>O plano de ação será gerado usando IA avançada (Claude 3.7) para criar estratégias detalhadas com base nos documentos selecionados. O processo leva aproximadamente 2-3 minutos.</p>
                </div>
            </div>
            
            <form id="action-plan-form">
                <div class="form-group">
                    <label for="action-plan-title">Título do Plano de Ação</label>
                    <input type="text" id="action-plan-title" required placeholder="Ex: Plano Estratégico Q1 2025">
                </div>
                
                <div class="form-group">
                    <label>Documentos Base</label>
                    <div class="documents-selection">
                        <div class="document-type-section">
                            <h4><i class="fas fa-microphone"></i> Transcrições Disponíveis</h4>
                            <div id="available-transcriptions" class="document-list">
                                <div class="no-documents">
                                    <i class="fas fa-info-circle"></i>
                                    <p>Nenhuma transcrição disponível</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="document-type-section">
                            <h4><i class="fas fa-chart-line"></i> Análises Disponíveis</h4>
                            <div id="available-analyses" class="document-list">
                                <div class="no-documents">
                                    <i class="fas fa-info-circle"></i>
                                    <p>Nenhuma análise disponível</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="selected-documents" id="selected-documents">
                    <h4>Documentos Selecionados</h4>
                    <div class="selected-list" id="selected-documents-list">
                        <div class="no-selection">
                            <i class="fas fa-hand-pointer"></i>
                            <p>Selecione pelo menos um documento acima</p>
                        </div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" id="cancel-action-plan-btn" class="action-button secondary">Cancelar</button>
                    <button type="submit" id="start-action-plan-btn" class="action-button" disabled>Gerar Plano de Ação</button>
                </div>
            </form>
        </div>

        <!-- Contêiner para visualização do plano de ação -->
        <div class="action-plan-result-container" id="action-plan-result-container">
            <div class="action-plan-result-header">
                <h2 id="action-plan-title-display">Título do Plano de Ação</h2>
                <div class="action-plan-meta">
                    <p>Criado em: <span id="action-plan-date"></span></p>
                    <p>Baseado em: <span id="action-plan-documents-count"></span></p>
                </div>
            </div>
            
            <div class="action-plan-content">
                <div id="action-plan-text"></div>
            </div>
            
            <div class="export-actions">
                <button id="export-action-plan-pdf" class="action-button">
                    <i class="fas fa-file-pdf"></i> Exportar PDF
                </button>
                <button id="copy-action-plan" class="action-button">
                    <i class="fas fa-copy"></i> Copiar Plano
                </button>
                <button id="back-to-client-from-plan" class="action-button secondary">
                    <i class="fas fa-arrow-left"></i> Voltar
                </button>
            </div>
        </div>

        <!-- Contêiner para upload e processamento de transcrições -->
        <div class="transcription-container" id="transcription-container">
            <div class="transcription-header">
                <h2>Nova Transcrição</h2>
                <p>Faça upload de um arquivo de áudio ou vídeo para transcrição</p>
                <div class="info-box">
                    <i class="fas fa-info-circle"></i>
                    <p>Para garantir máxima acurácia, o modelo de transcrição processa o áudio aproximadamente na mesma velocidade que um profissional ouviria - um áudio de 10 minutos leva cerca de 10 minutos para ser transcrito.</p>
                </div>
            </div>
            
            <form id="transcription-form">
                <div class="form-group">
                    <label for="transcription-title">Título da Transcrição</label>
                    <input type="text" id="transcription-title" required placeholder="Ex: Reunião de Marketing - 25/07/2025">
                </div>
                
                <div class="form-group">
                    <label for="transcription-language">Idioma Principal</label>
                    <select id="transcription-language">
                        <option value="pt">Português</option>
                        <option value="en">Inglês</option>
                        <option value="es">Espanhol</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Arquivo de Áudio/Vídeo</label>
                    <div class="file-upload">
                        <input type="file" id="transcription-file" accept="audio/*,video/*" required>
                        <div class="file-upload-placeholder">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Clique para selecionar ou arraste um arquivo de áudio/vídeo</p>
                            <span class="file-limit-info">Limite: 500MB. Formatos suportados: MP3, WAV, MP4, etc.</span>
                        </div>
                        <div class="file-preview" id="audio-preview"></div>
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" id="cancel-transcription-btn" class="action-button secondary">Cancelar</button>
                    <button type="submit" id="start-transcription-btn" class="action-button">Iniciar Transcrição</button>
                </div>
            </form>
        </div>
        
        <!-- Contêiner para visualização da transcrição concluída -->
        <div class="transcription-result-container" id="transcription-result-container">
            <div class="transcription-result-header">
                <h2 id="transcription-title-display">Título da Transcrição</h2>
                <div class="transcription-meta">
                    <p>Realizada em: <span id="transcription-date"></span></p>
                    <p>Duração: <span id="transcription-duration"></span></p>
                </div>
            </div>
            
            <div class="transcription-content">
                <pre id="transcription-text"></pre>
            </div>
            
            <div class="export-actions">
                <button id="copy-transcription" class="action-button">
                    <i class="fas fa-copy"></i> Copiar Texto
                </button>
                <button id="export-txt" class="action-button">
                    <i class="fas fa-file-alt"></i> Exportar TXT
                </button>
                <button id="back-to-client" class="action-button secondary">
                    <i class="fas fa-arrow-left"></i> Voltar
                </button>
            </div>
        </div>
        
        <div class="result-container" id="result-container">
            <div class="result-header">
                <h2 id="company-name">Nome da Empresa</h2>
                <div class="result-meta">
                    <p>CNPJ: <span id="result-cnpj"></span></p>
                    <p>Análise realizada em: <span id="result-date"></span></p>
                </div>
            </div>

            <div class="pdf-container">
                <div class="content-section">
                    <h3>Relatório Completo</h3>
                    <p class="pdf-info">O relatório completo foi gerado com sucesso. Você pode visualizá-lo e baixá-lo abaixo.</p>
                    <div id="pdf-viewer">
                        <div class="pdf-placeholder">
                            <i class="fas fa-file-pdf"></i>
                            <p>Seu relatório estratégico está pronto</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="export-actions">
                <button id="export-pdf" class="action-button">
                    <i class="fas fa-file-pdf"></i> Exportar PDF
                </button>
                <button id="copy-report" class="action-button">
                    <i class="fas fa-copy"></i> Copiar Relatório
                </button>
            </div>
        </div>

        <div class="error-container" id="error-container">
            <div class="error-icon">
                <i class="fas fa-exclamation-circle"></i>
            </div>
            <h3>Ocorreu um erro</h3>
            <p id="error-message">Não foi possível processar sua solicitação.</p>
            <button id="try-again" class="action-button">Tentar Novamente</button>
        </div>

        <footer>
            <p>&copy; 2025 Janice | Desenvolvido com IA</p>
        </footer>
    </div>
    
    <!-- Painel lateral de clientes -->
    <div class="client-panel">
        <div class="client-panel-header">
            <h2>Gerenciamento de Clientes</h2>
            <button id="new-client-btn" class="action-button">
                <i class="fas fa-plus"></i> Novo Cliente
            </button>
        </div>
        
        <div class="client-list-container">
            <div class="client-search">
                <input type="text" id="client-search-input" placeholder="Buscar cliente...">
                <i class="fas fa-search"></i>
            </div>
            
            <div class="client-list" id="client-list">
                <!-- Lista de clientes será carregada dinamicamente aqui -->
                <div class="client-list-empty">
                    <i class="fas fa-users"></i>
                    <p>Nenhum cliente cadastrado</p>
                </div>
            </div>
        </div>
        
        <!-- Formulário para adicionar/editar cliente -->
        <div class="client-form-container" id="client-form-container">
            <h3 id="client-form-title">Novo Cliente</h3>
            
            <form id="client-form">
                <div class="form-group">
                    <label for="client-name">Nome da Empresa</label>
                    <input type="text" id="client-name" name="nome" required>
                </div>
                
                <div class="form-group">
                    <label for="client-cnpj">CNPJ</label>
                    <input type="text" id="client-cnpj" name="cnpj" maxlength="18" required>
                    <p class="hint">Formato: XX.XXX.XXX/XXXX-XX ou apenas números</p>
                </div>
                
                <div class="form-group">
                    <label for="client-logo">Logo (opcional)</label>
                    <div class="file-upload">
                        <input type="file" id="client-logo" name="logo" accept="image/*">
                        <div class="file-upload-placeholder">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Clique para selecionar ou arraste uma imagem</p>
                        </div>
                        <div class="file-preview" id="logo-preview"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="client-color">Cor Personalizada</label>
                    <div class="color-picker-container">
                        <input type="color" id="client-color" name="cor" value="#6a5acd">
                        <div class="color-preview">
                            <div class="color-sample" id="color-sample"></div>
                            <span class="color-value" id="color-value">#6a5acd</span>
                        </div>
                    </div>
                    <p class="hint">Esta cor será usada para destacar este cliente na interface</p>
                </div>
                
                <div class="form-actions">
                    <button type="button" id="cancel-client-btn" class="action-button secondary">Cancelar</button>
                    <button type="submit" id="save-client-btn" class="action-button">Salvar</button>
                </div>
            </form>
        </div>
        
        <!-- Detalhes do cliente (versão simplificada) -->
        <div class="client-details-container" id="client-details-container">
            <div class="client-details-header">
                <div class="client-logo" id="detail-client-logo">
                    <i class="fas fa-building"></i>
                </div>
                <div class="client-info">
                    <h3 id="detail-client-name">Nome da Empresa</h3>
                    <p>CNPJ: <span id="detail-client-cnpj"></span></p>
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Modal de confirmação de exclusão -->
    <div id="delete-confirm-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Confirmar Exclusão</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <p>Tem certeza que deseja excluir o cliente <strong id="delete-client-name"></strong>?</p>
                <p class="warning-text"><i class="fas fa-exclamation-triangle"></i> Esta ação é irreversível e todos os dados deste cliente serão perdidos.</p>
            </div>
            <div class="modal-footer">
                <button id="cancel-delete-btn" class="action-button secondary">Cancelar</button>
                <button id="confirm-delete-btn" class="action-button danger">Excluir</button>
            </div>
        </div>
    </div>

    <!-- Modal para criação de mockup -->
    <div id="mockup-modal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3>Novo Mockup com IA</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <form id="mockup-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mockup-title">Título do Mockup <span class="required">*</span></label>
                            <input type="text" id="mockup-title" required placeholder="Ex: Logo para campanha verão" class="required-field">
                        </div>
                        
                        <div class="form-group">
                            <label for="mockup-type">Tipo de Arte <span class="required">*</span></label>
                            <select id="mockup-type" required class="required-field">
                                <option value="">Selecione o tipo</option>
                                <option value="logo">🏷️ Logo</option>
                                <option value="post-social">📱 Post Social</option>
                                <option value="banner">🎯 Banner</option>
                                <option value="landing-page">🌐 Landing Page</option>
                                <option value="material-apresentacao">📄 Material de Apresentação</option>
                                <option value="ilustracao-conceitual">🎨 Ilustração Conceitual</option>
                                <option value="mockup-produto">📦 Mockup de Produto</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mockup-aspect-ratio">Proporção <span class="required">*</span></label>
                            <select id="mockup-aspect-ratio" required class="required-field">
                                <option value="1:1">1:1 (Quadrado - Instagram Post)</option>
                                <option value="16:9">16:9 (Banner Horizontal)</option>
                                <option value="9:16">9:16 (Stories/Vertical)</option>
                                <option value="4:5">4:5 (Instagram Portrait)</option>
                                <option value="3:2">3:2 (Foto Paisagem)</option>
                                <option value="2:3">2:3 (Foto Retrato)</option>
                                <option value="21:9">21:9 (Banner Ultra-wide)</option>
                                <option value="5:4">5:4 (Monitor Clássico)</option>
                                <option value="9:21">9:21 (Banner Vertical)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mockup-style">Estilo Visual <span class="required">*</span></label>
                            <select id="mockup-style" required class="required-field">
                                <option value="">Selecione o estilo</option>
                                <option value="minimalista">✨ Minimalista</option>
                                <option value="corporativo">🏢 Corporativo</option>
                                <option value="criativo-artistico">🎨 Criativo/Artístico</option>
                                <option value="moderno">🚀 Moderno</option>
                                <option value="vintage-retro">📻 Vintage/Retrô</option>
                                <option value="tecnologico">💻 Tecnológico</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mockup-colors">Paleta de Cores</label>
                            <select id="mockup-colors">
                                <option value="">Automático</option>
                                <option value="monocromatico">⚫ Monocromático</option>
                                <option value="colorido">🌈 Colorido</option>
                                <option value="tons-pasteis">🌸 Tons Pastéis</option>
                                <option value="alto-contraste">⚡ Alto Contraste</option>
                                <option value="cores-marca">🎯 Cores da Marca</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mockup-elements">Elementos Visuais</label>
                            <select id="mockup-elements">
                                <option value="">Automático</option>
                                <option value="com-pessoas">👥 Com Pessoas</option>
                                <option value="apenas-objetos">📦 Apenas Objetos</option>
                                <option value="abstrato-conceitual">🔮 Abstrato/Conceitual</option>
                                <option value="com-texto-integrado">📝 Com Texto Integrado</option>
                                <option value="icones-simbolos">🔣 Ícones/Símbolos</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mockup-sector">Setor/Indústria</label>
                            <select id="mockup-sector">
                                <option value="">Automático</option>
                                <option value="tecnologia">💻 Tecnologia</option>
                                <option value="saude-medicina">🏥 Saúde/Medicina</option>
                                <option value="educacao">🎓 Educação</option>
                                <option value="alimentacao">🍕 Alimentação</option>
                                <option value="moda-beleza">💄 Moda/Beleza</option>
                                <option value="financas">💰 Finanças</option>
                                <option value="imobiliario">🏠 Imobiliário</option>
                                <option value="outros">📋 Outros</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mockup-audience">Público-Alvo</label>
                            <select id="mockup-audience">
                                <option value="">Automático</option>
                                <option value="jovem-18-30">🧑 Jovem (18-30)</option>
                                <option value="adulto-30-50">👨 Adulto (30-50)</option>
                                <option value="maduro-50-plus">👴 Maduro (50+)</option>
                                <option value="corporativo-b2b">🏢 Corporativo B2B</option>
                                <option value="consumidor-b2c">🛍️ Consumidor B2C</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="mockup-mood">Mood/Sentimento</label>
                            <select id="mockup-mood">
                                <option value="">Automático</option>
                                <option value="profissional-serio">💼 Profissional/Sério</option>
                                <option value="amigavel-caloroso">😊 Amigável/Caloroso</option>
                                <option value="inovador-futurista">🚀 Inovador/Futurista</option>
                                <option value="confiavel-estavel">🛡️ Confiável/Estável</option>
                                <option value="dinamico-energetico">⚡ Dinâmico/Energético</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="mockup-render-style">Estilo de Renderização</label>
                            <select id="mockup-render-style">
                                <option value="">Automático</option>
                                <option value="fotorrealista">📸 Fotorrealista</option>
                                <option value="ilustracao-digital">🎨 Ilustração Digital</option>
                                <option value="desenho-vetorial">📐 Desenho Vetorial</option>
                                <option value="aquarela-artistico">🖌️ Aquarela/Artístico</option>
                                <option value="3d-render">🎯 3D Render</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="mockup-prompt">Descrição Detalhada <span class="required">*</span></label>
                        <textarea id="mockup-prompt" rows="4" required class="required-field"
                                placeholder="Descreva detalhadamente o que você quer criar. Ex: Logo minimalista para uma cafeteria, usando tons terrosos, com uma xícara estilizada e tipografia moderna..."></textarea>
                        <div class="prompt-suggestions" id="prompt-suggestions">
                            <small>💡 Dica: Seja específico sobre cores, elementos, estilo e composição para melhores resultados</small>
                        </div>
                    </div>
                    
                    <!-- Configurações Avançadas (colapsível) -->
                    <div class="advanced-settings">
                        <button type="button" class="toggle-advanced" id="toggle-advanced">
                            <i class="fas fa-cog"></i> Configurações Avançadas
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        
                        <div class="advanced-content" id="advanced-content">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="mockup-cfg">Guidance Scale (CFG)</label>
                                    <input type="range" id="mockup-cfg" min="0" max="20" step="0.5" value="3.5">
                                    <span class="range-value" id="cfg-value">3.5</span>
                                    <small>Controla o quão fielmente o modelo segue o prompt</small>
                                </div>
                                
                                <div class="form-group">
                                    <label for="mockup-steps">Steps de Difusão</label>
                                    <input type="range" id="mockup-steps" min="1" max="28" value="28">
                                    <span class="range-value" id="steps-value">28</span>
                                    <small>Mais steps = mais detalhes (recomendado: 28)</small>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="mockup-format">Formato de Saída</label>
                                    <select id="mockup-format">
                                        <option value="webp">WebP (Recomendado)</option>
                                        <option value="png">PNG (Transparência)</option>
                                        <option value="jpg">JPG (Menor tamanho)</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label for="mockup-quality">Qualidade</label>
                                    <input type="range" id="mockup-quality" min="60" max="100" value="90">
                                    <span class="range-value" id="quality-value">90</span>
                                    <small>Qualidade da compressão da imagem</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="cost-info">
                        <i class="fas fa-info-circle"></i>
                        <span>Custo: $0.14 (4 variações × $0.035 cada)</span>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="action-button secondary" id="cancel-mockup-btn">Cancelar</button>
                <button type="submit" form="mockup-form" class="action-button" id="generate-mockup-btn">
                    <i class="fas fa-magic"></i> Gerar 4 Variações
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para escolha de variação -->
    <div id="mockup-variations-modal" class="modal">
        <div class="modal-content extra-large-modal">
            <div class="modal-header">
                <h3>Escolha suas Variações</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="variations-info">
                    <p>4 variações foram geradas com sucesso! Selecione uma ou mais imagens que você deseja salvar.</p>
                    <div class="prompt-used">
                        <strong>Prompt usado:</strong> <span id="used-prompt"></span>
                    </div>
                    <div class="selection-counter">
                        <span id="selection-count">0 de 4 variações selecionadas</span>
                    </div>
                </div>
                
                <div class="variations-grid" id="variations-grid">
                    <!-- Variações serão inseridas dinamicamente -->
                </div>
                
                <div class="variations-actions">
                    <button type="button" class="action-button secondary" id="regenerate-mockup-btn">
                        <i class="fas fa-redo"></i> Gerar Novas Variações
                    </button>
                    <button type="button" class="action-button" id="save-selected-btn" disabled>
                        <i class="fas fa-save"></i> Salvar Selecionadas
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para visualização da galeria -->
    <div id="gallery-modal" class="modal">
        <div class="modal-content large-modal">
            <div class="modal-header">
                <h3 id="gallery-modal-title">Visualizar Imagem</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="gallery-modal-content">
                    <div class="gallery-image-container">
                        <img id="gallery-modal-image" src="" alt="Imagem da galeria">
                    </div>
                    <div class="gallery-image-info">
                        <div class="info-row">
                            <strong>Tipo:</strong> <span id="gallery-modal-type"></span>
                        </div>
                        <div class="info-row">
                            <strong>Prompt:</strong> <span id="gallery-modal-prompt"></span>
                        </div>
                        <div class="info-row">
                            <strong>Data:</strong> <span id="gallery-modal-date"></span>
                        </div>
                        <div class="info-row">
                            <strong>Seed:</strong> <span id="gallery-modal-seed"></span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="action-button secondary" id="close-gallery-modal">Fechar</button>
                <button type="button" class="action-button" id="download-gallery-image">
                    <i class="fas fa-download"></i> Download
                </button>
            </div>
        </div>
    </div>

    <!-- Modal para edição de imagens -->
    <div id="image-editor-modal" class="modal">
        <div class="modal-content extra-large-modal">
            <div class="modal-header">
                <h3>🎨 Editor de Imagem</h3>
                <span class="close-modal">&times;</span>
            </div>
            <div class="modal-body">
                <div class="editor-layout">
                    <div class="editor-preview">
                        <div class="original-image">
                            <h4>Original</h4>
                            <img id="original-preview" src="" alt="Imagem original">
                        </div>
                        <div class="edited-image">
                            <h4>Resultado</h4>
                            <div id="edited-preview-container">
                                <div class="editor-placeholder">
                                    <i class="fas fa-magic"></i>
                                    <p>O resultado aparecerá aqui</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="editor-controls">
                        <!-- Seção de Modificação de Cores -->
                        <div class="edit-section color-modification-section">
                            <div class="edit-section-header" id="color-section-header">
                                <div class="edit-type-icon">🎨</div>
                                <div class="edit-type-info">
                                    <h4>Modificação de Cores</h4>
                                    <p>Altere as cores da imagem mantendo exatamente a mesma forma e estrutura</p>
                                </div>
                                <div class="section-toggle">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            
                            <div class="edit-section-content" id="color-section-content">
                                <div class="color-edit-button" id="color-edit-button">
                                    <div class="color-edit-content">
                                        <i class="fas fa-palette"></i>
                                        <span>Clique para especificar as cores que deseja alterar</span>
                                    </div>
                                    <div class="color-edit-arrow">
                                        <i class="fas fa-chevron-down"></i>
                                    </div>
                                </div>
                                
                                <div class="color-instructions-container" id="color-instructions-container">
                                    <div class="color-instructions-header">
                                        <h5>💬 Descreva a modificação de cores</h5>
                                        <div class="example-hint">
                                            <strong>Exemplo:</strong> "Mudar roxo para azul e laranja para branco. Manter EXATAMENTE a mesma figura"
                                        </div>
                                    </div>
                                    
                                    <textarea id="custom-edit-instructions" rows="4" 
                                            placeholder="Ex: Alterar a cor principal de roxo para azul e os detalhes de laranja para branco, mantendo exatamente a mesma forma geométrica..."></textarea>
                                    
                                    <div class="color-tips">
                                        <div class="tip-item">
                                            <i class="fas fa-lightbulb"></i>
                                            <span><strong>Dica:</strong> Seja específico sobre quais cores alterar e para quais cores mudar</span>
                                        </div>
                                        <div class="tip-item">
                                            <i class="fas fa-shield-alt"></i>
                                            <span><strong>Preservação:</strong> Sempre mencione "manter a mesma forma/figura" para melhores resultados</span>
                                        </div>
                                    </div>
                                    
                                    <div class="color-examples">
                                        <h6>✅ Exemplos de instruções eficazes:</h6>
                                        <div class="example-list">
                                            <div class="example-item">"Alterar o fundo de azul para verde, mantendo todos os elementos na mesma posição"</div>
                                            <div class="example-item">"Mudar a cor do logo de vermelho para dourado, preservando exatamente a mesma forma"</div>
                                            <div class="example-item">"Trocar as cores: azul → branco, laranja → preto. Manter idêntica a estrutura visual"</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Seção de Estilo Artístico -->
                        <div class="edit-section artistic-style-section">
                            <div class="edit-section-header" id="artistic-section-header">
                                <div class="edit-type-icon">🖌️</div>
                                <div class="edit-type-info">
                                    <h4>Estilo Artístico</h4>
                                    <p>Aplique estilos artísticos únicos mantendo a essência da imagem</p>
                                </div>
                                <div class="section-toggle">
                                    <i class="fas fa-chevron-down"></i>
                                </div>
                            </div>
                            
                            <div class="edit-section-content" id="artistic-section-content">
                                <div class="style-selector">
                                    <h5>🎨 Escolha o Estilo Artístico</h5>
                                    <div class="style-categories">
                                        <div class="category-tabs">
                                            <button class="category-tab active" data-category="classicos">🎨 Clássicos</button>
                                            <button class="category-tab" data-category="modernos">🚀 Modernos</button>
                                            <button class="category-tab" data-category="digitais">💻 Digitais</button>
                                            <button class="category-tab" data-category="especiais">✨ Especiais</button>
                                        </div>
                                        
                                        <div class="style-grid-container">
                                            <!-- Estilos Clássicos -->
                                            <div class="style-grid active" data-category="classicos">
                                                <div class="style-option" data-style="aquarela" data-prompt="watercolor painting style">
                                                    <div class="style-icon">🎨</div>
                                                    <div class="style-name">Aquarela</div>
                                                    <div class="style-description">Efeito de tinta aquarela fluida</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="oleo" data-prompt="oil painting style">
                                                    <div class="style-icon">🖌️</div>
                                                    <div class="style-name">Óleo</div>
                                                    <div class="style-description">Pintura a óleo clássica</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="impressionista" data-prompt="impressionist painting style">
                                                    <div class="style-icon">🌅</div>
                                                    <div class="style-name">Impressionista</div>
                                                    <div class="style-description">Estilo impressionista francês</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="sketch" data-prompt="pencil sketch drawing style">
                                                    <div class="style-icon">✏️</div>
                                                    <div class="style-name">Sketch</div>
                                                    <div class="style-description">Desenho a lápis artístico</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="cubista" data-prompt="cubist art style">
                                                    <div class="style-icon">🔷</div>
                                                    <div class="style-name">Cubista</div>
                                                    <div class="style-description">Arte cubista geométrica</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="surrealista" data-prompt="surrealist art style">
                                                    <div class="style-icon">🌀</div>
                                                    <div class="style-name">Surrealista</div>
                                                    <div class="style-description">Arte surrealista onírica</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                            </div>
                                            
                                            <!-- Estilos Modernos -->
                                            <div class="style-grid" data-category="modernos">
                                                <div class="style-option" data-style="pop-art" data-prompt="pop art style">
                                                    <div class="style-icon">🌈</div>
                                                    <div class="style-name">Pop Art</div>
                                                    <div class="style-description">Estilo pop art vibrante</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="street-art" data-prompt="street art graffiti style">
                                                    <div class="style-icon">🎯</div>
                                                    <div class="style-name">Street Art</div>
                                                    <div class="style-description">Arte urbana e graffiti</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="minimalista" data-prompt="minimalist art style">
                                                    <div class="style-icon">⚪</div>
                                                    <div class="style-name">Minimalista</div>
                                                    <div class="style-description">Arte minimalista limpa</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="abstrato" data-prompt="abstract art style">
                                                    <div class="style-icon">🎪</div>
                                                    <div class="style-name">Abstrato</div>
                                                    <div class="style-description">Arte abstrata expressiva</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="vintage" data-prompt="vintage retro style">
                                                    <div class="style-icon">📸</div>
                                                    <div class="style-name">Vintage</div>
                                                    <div class="style-description">Efeito fotográfico retrô</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="art-deco" data-prompt="art deco style">
                                                    <div class="style-icon">💎</div>
                                                    <div class="style-name">Art Deco</div>
                                                    <div class="style-description">Estilo art déco elegante</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                            </div>
                                            
                                            <!-- Estilos Digitais -->
                                            <div class="style-grid" data-category="digitais">
                                                <div class="style-option" data-style="vetorial" data-prompt="vector art style">
                                                    <div class="style-icon">🎯</div>
                                                    <div class="style-name">Vetorial</div>
                                                    <div class="style-description">Arte vetorial limpa</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="pixel-art" data-prompt="pixel art style">
                                                    <div class="style-icon">🕹️</div>
                                                    <div class="style-name">Pixel Art</div>
                                                    <div class="style-description">Arte pixelizada retrô</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="low-poly" data-prompt="low poly 3D style">
                                                    <div class="style-icon">🔺</div>
                                                    <div class="style-name">Low Poly</div>
                                                    <div class="style-description">3D poligonal simplificado</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="neon" data-prompt="neon cyberpunk style">
                                                    <div class="style-icon">💫</div>
                                                    <div class="style-name">Neon</div>
                                                    <div class="style-description">Estilo cyberpunk neon</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="glitch" data-prompt="glitch art digital style">
                                                    <div class="style-icon">📺</div>
                                                    <div class="style-name">Glitch</div>
                                                    <div class="style-description">Arte digital com glitch</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="holografico" data-prompt="holographic iridescent style">
                                                    <div class="style-icon">🌈</div>
                                                    <div class="style-name">Holográfico</div>
                                                    <div class="style-description">Efeito holográfico iridescente</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                            </div>
                                            
                                            <!-- Estilos Especiais -->
                                            <div class="style-grid" data-category="especiais">
                                                <div class="style-option" data-style="cartoon" data-prompt="cartoon animation style">
                                                    <div class="style-icon">🎭</div>
                                                    <div class="style-name">Cartoon</div>
                                                    <div class="style-description">Estilo cartoon animado</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="anime" data-prompt="anime manga style">
                                                    <div class="style-icon">🌸</div>
                                                    <div class="style-name">Anime</div>
                                                    <div class="style-description">Estilo anime/manga japonês</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="steampunk" data-prompt="steampunk victorian style">
                                                    <div class="style-icon">⚙️</div>
                                                    <div class="style-name">Steampunk</div>
                                                    <div class="style-description">Estilo steampunk vitoriano</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="gothic" data-prompt="gothic dark art style">
                                                    <div class="style-icon">🦇</div>
                                                    <div class="style-name">Gótico</div>
                                                    <div class="style-description">Arte gótica sombria</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="fantasia" data-prompt="fantasy magical art style">
                                                    <div class="style-icon">🧙</div>
                                                    <div class="style-name">Fantasia</div>
                                                    <div class="style-description">Arte fantástica mágica</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                                <div class="style-option" data-style="sci-fi" data-prompt="sci-fi futuristic style">
                                                    <div class="style-icon">🚀</div>
                                                    <div class="style-name">Sci-Fi</div>
                                                    <div class="style-description">Ficção científica futurista</div>
                                                    <div class="style-preview"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="style-settings">
                                    <div class="setting-group">
                                        <label for="style-intensity">Intensidade do Estilo</label>
                                        <div class="slider-container">
                                            <input type="range" id="style-intensity" min="10" max="100" value="50">
                                            <span class="slider-value" id="style-intensity-value">50%</span>
                                        </div>
                                        <small>Controla o quanto o estilo será aplicado</small>
                                    </div>
                                    
                                    <div class="setting-group">
                                        <label>Preservar Elementos</label>
                                        <div class="preservation-options">
                                            <label class="checkbox-option">
                                                <input type="checkbox" id="preserve-colors" value="cores">
                                                <span class="checkmark"></span>
                                                <span class="option-text">🎨 Cores Originais</span>
                                            </label>
                                            <label class="checkbox-option">
                                                <input type="checkbox" id="preserve-shapes" value="formas">
                                                <span class="checkmark"></span>
                                                <span class="option-text">📐 Formas</span>
                                            </label>
                                            <label class="checkbox-option">
                                                <input type="checkbox" id="preserve-text" value="texto">
                                                <span class="checkmark"></span>
                                                <span class="option-text">📝 Texto</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="style-recommendations" id="style-recommendations">
                                    <h5>💡 Recomendações</h5>
                                    <div class="recommendations-list" id="recommendations-list">
                                        <div class="recommendation-item">Selecione um estilo para ver recomendações específicas</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="action-button secondary" id="close-editor-btn">❌ Fechar</button>
                <button type="button" class="action-button" id="process-edit-btn">
                    <i class="fas fa-magic"></i> 🔄 Processar Edição
                </button>
                <button type="button" class="action-button" id="save-edit-btn" style="display: none;">
                    <i class="fas fa-save"></i> 💾 Salvar Edição
                </button>
            </div>
        </div>
    </div>

    <!-- Modal de loading para edição -->
    <div id="edit-loading-modal" class="modal">
        <div class="modal-content">
            <div class="modal-body">
                <div class="loading-container">
                    <div class="loading-animation">
                        <div class="spinner"></div>
                    </div>
                    <p class="loading-text">Processando edição...</p>
                    <p class="loading-subtext" id="edit-loading-status">Aplicando modificações na imagem...</p>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="edit-progress-fill"></div>
                        </div>
                        <div class="progress-text" id="edit-progress-text">0%</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de loading para estilo artístico -->
    <div id="artistic-style-loading-modal" class="modal">
        <div class="modal-content">
            <div class="modal-body">
                <div class="loading-container">
                    <div class="loading-animation">
                        <div class="spinner artistic-spinner"></div>
                    </div>
                    <p class="loading-text">🎨 Aplicando Estilo Artístico...</p>
                    <p class="loading-subtext" id="artistic-loading-status">Transformando sua imagem com IA...</p>
                    
                    <div class="progress-container">
                        <div class="progress-bar">
                            <div class="progress-fill" id="artistic-progress-fill"></div>
                        </div>
                        <div class="progress-text" id="artistic-progress-text">0%</div>
                    </div>
                    
                    <div class="artistic-loading-info">
                        <div class="style-being-applied">
                            <span>Estilo: </span><span id="current-style-name">-</span>
                        </div>
                        <div class="intensity-being-applied">
                            <span>Intensidade: </span><span id="current-intensity-value">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Inputs de arquivo ocultos para upload de logo -->
    <input type="file" id="central-logo-input" class="logo-file-input" accept="image/*">
    <input type="file" id="detail-logo-input" class="logo-file-input" accept="image/*">

    <!-- Módulos JavaScript -->
    <!-- Módulos Base -->
    <script src="js/modules/utils.js"></script>
    <script src="js/modules/progress.js"></script>
    
    <!-- Módulos de Funcionalidade -->
    <script src="js/modules/activeProcesses.js"></script>
    <script src="js/modules/auth.js"></script>
    <script src="js/modules/clients.js"></script>
    <script src="js/modules/analysis.js"></script>
    <script src="js/modules/transcriptions.js"></script>
    <script src="js/modules/actionPlans.js"></script>
    <script src="js/modules/mockups.js"></script>
    <script src="js/modules/gallery.js"></script>
    <script src="js/modules/imageEditor.js"></script>
    <script src="js/modules/artisticStyle.js"></script>
    
    <!-- Script principal -->
    <script src="js/script.js"></script>
</body>
</html>
